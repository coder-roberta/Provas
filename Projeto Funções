tarefas = []

def adicionar_tarefa():
    nome = input("Nome da tarefa: ")
    descricao = input("Descrição: ")
    prioridade = input("Prioridade (alta/média/baixa): ")
    categoria = input("Categoria: ")
    tarefa = {
        "nome": nome,
        "descricao": descricao,
        "prioridade": prioridade,
        "categoria": categoria,
        "concluida": False
    }
    tarefas.append(tarefa)
    print("Tarefa adicionada!")

def listar_tarefas():
    if not tarefas:
        print("Nenhuma tarefa cadastrada.")
        return
    
    for i, tarefa in enumerate(tarefas, 1):
        status = "✓" if tarefa["concluida"] else "✗"
        print(f"{i}. [{status}] {tarefa['nome']} - {tarefa['prioridade']} - {tarefa['categoria']}")

def marcar_concluida():
    listar_tarefas()
    if tarefas:
        try:
            indice = int(input("Número da tarefa a marcar como concluída: ")) - 1
            if 0 <= indice < len(tarefas):
                tarefas[indice]["concluida"] = True
                print("Tarefa marcada como concluída!")
            else:
                print("Número inválido.")
        except ValueError:
            print("Digite um número válido.")

def exibir_por_prioridade():
    prioridade = input("Prioridade (alta/média/baixa): ")
    encontradas = [t for t in tarefas if t["prioridade"].lower() == prioridade.lower()]
    
    if not encontradas:
        print(f"Nenhuma tarefa com prioridade {prioridade}.")
        return
    
    for i, tarefa in enumerate(encontradas, 1):
        status = "✓" if tarefa["concluida"] else "✗"
        print(f"{i}. [{status}] {tarefa['nome']} - {tarefa['categoria']}")

def exibir_por_categoria():
    categoria = input("Categoria: ")
    encontradas = [t for t in tarefas if t["categoria"].lower() == categoria.lower()]
    
    if not encontradas:
        print(f"Nenhuma tarefa na categoria {categoria}.")
        return
    
    for i, tarefa in enumerate(encontradas, 1):
        status = "✓" if tarefa["concluida"] else "✗"
        print(f"{i}. [{status}] {tarefa['nome']} - {tarefa['prioridade']}")

def menu():
    while True:
        print("\n=== GERENCIADOR DE TAREFAS ===")
        print("1. Adicionar tarefa")
        print("2. Listar todas as tarefas")
        print("3. Marcar tarefa como concluída")
        print("4. Exibir tarefas por prioridade")
        print("5. Exibir tarefas por categoria")
        print("6. Sair")
        
        opcao = input("Escolha uma opção: ")
        
        if opcao == "1":
            adicionar_tarefa()
        elif opcao == "2":
            listar_tarefas()
        elif opcao == "3":
            marcar_concluida()
        elif opcao == "4":
            exibir_por_prioridade()
        elif opcao == "5":
            exibir_por_categoria()
        elif opcao == "6":
            print("Saindo...")
            break
        else:
            print("Opção inválida!")

menu()
